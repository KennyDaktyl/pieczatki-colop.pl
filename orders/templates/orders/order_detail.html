{% extends 'front/base.html' %}
{% load static %}
{% load crispy_forms_tags %}
{% crispy form.helper %}
{% load templatetag %}
{% load thumbnail %}
{% load l10n %}


{% block head %}
<meta property="fb:app_id" content="{{app_id}}" />
<meta property="og:type" content="website" />
<meta property="og:url" content="{{request.build_absolute_uri}}" />
<meta property="og:title" content="{{page.title}}" />
<meta property="og:image" content="" />
<meta property="og:description" content="{{page.description}}" />
<meta name="description" content="{{page.description}}">
<link rel="canonical" href="{{cannonical}}">
{% endblock %}

{% block title %}
{{page.title}}
{% endblock %}

{% block content %}
<nav id="link_map" aria-label="breadcrumb" class="col-12 bg-white mx-auto d-md-none row fixed-top">
    <li class="breadcrumb-item text-dark"><a href="{% url 'welcome' %}" class="text-dark">Strona startowa</a></li>
    <li class="breadcrumb-item text-dark"><a href="{% url 'cart_details' %}" class="text-dark">Koszyk</a></li>
    <li class="breadcrumb-item text-dark active" aria-current="page">Zamówienie</li>
</nav>
<div class="col-lg-8 mx-auto text-center mt-3 pt-0 row d-flex align-items-start">
    <main class="col-lg-12 mx-auto row">
        <div class="text-left headline m-1 mb-2">
            <h1 class="mt-2">NOWE ZAMÓWIENIE:</h1>
        </div>
        <table class="table table_basket">
            <thead>
                <tr>
                    <th scope="col" class="text-center">#</th>
                    <th scope="col" class="text-center th_price">Foto</th>
                    <th scope="col" class="text-center th_title">Nazwa produktu</th>
                    <th scope="col" class="text-center th_qty">ilość</th>
                    <th scope="col" class="text-center th_price">Cena netto</th>
                    <th scope="col" class="text-center th_price">Cena brutto</th>
                    <th scope="col" class="text-center th_price">Wartość netto</th>
                    <th scope="col" class="text-center th_price">Wartość brutto</th>
                </tr>
            </thead>
            <tbody>
                {% for item in cart_ctx %}
                <tr id="tr{{item.product.id}}" class="">
                    <th scope="row" class="text-center">{{ forloop.counter }}</th>
                    <td class="text-center">
                        {% load thumbnail %}
                        {% thumbnail item.image "1280" crop='center' format="WEBP"  as im %}
                        <a href="{{ MEDIA_URL }}{{im}}" data-lightbox="{{item.product.id}}"
                            data-title="{{item.product.product_id.name}}" class="mx-auto text-center p-0 m-0"
                            title="Link do dużego zdcjęcia {{item.product.product_id.name}}">
                            <source srcset="{{ MEDIA_URL }}{{ im }}" type="image/webp">
                            {% thumbnail item.image "75" crop='center' format="WEBP"  as im %}
                            <source srcset="{{ im }}" type="image/webp" />
                            <img class="img-fluid mx-auto m-0 p-0" src="{{ MEDIA_URL }}{{ im }}"
                                alt="{{item.product.product_id.alt}}" title="{{item.product.product_id.title}}">
                            {% endthumbnail %}
                        </a>
                        {% endthumbnail %}
                    </td>
                    <td class="text-center">
                        <div class="col-12 m-0 p-0 row">
                            <a href="{% url 'product_details' category=item.product.product_id.category.slug product=item.product.product_id.slug color=item.product.product_id.color.slug store=item.product.product_id.store.slug pk=item.product.product_id.id %}"
                                class="col-12 text-center m-0 p-0">
                                <p class="col-12 text-center m-0 ">{{item.product.product_id.name}} </p>
                            </a>
                            <small class="col-12 text-center m-0 {{item.product.product_id.color.class_text}}">Obudowa:
                                {{item.product.product_id.color.name}}</small>
                            <small class="col-12 m-0 text-center">Kolor odbicia:
                                {{item.product.get_color_text_display}}</small>
                        </div>
                    </td>
                    <td class="text-center">
                        <strong id="t_netto{{item.product.id}}">{{item.quantity}}
                            szt.</strong>
                    </td>
                    <td class="text-center">{{item.price_netto|floatformat:2}} PLN</td>
                    <td class="text-center">{{item.price|floatformat:2}} PLN</td>
                    <td class="text-center mx-auto"><strong
                            id="t_netto{{item.product.id}}">{{item.t_netto|floatformat:2}}
                            PLN</strong></td>
                    <td class="text-center mx-auto"><strong
                            id="t_brutto{{item.product.id}}">{{item.t_brutto|floatformat:2}}
                            PLN</strong></td>
                </tr>
                {% endfor %}
                <tr id="total">
                    <td class="text-center"></td>
                    <td class="text-center"></td>
                    <td class="text-center"></td>
                    <td class="text-center">
                        <strong id="len_table">{{cart.len}}szt.</strong></td>
                    <td class="text-center"></td>
                    <td class="text-center"></td>
                    <td class="text-center">
                        <strong id="total_price_netto_table"
                            class="mx-auto">{{cart.get_total_price_netto|floatformat:2}} PLN</strong>
                    </td>
                    <td class="text-center">
                        <strong id="total_price_table" class="mx-auto">{{cart.get_total_price|floatformat:2}}
                            PLN</strong>
                    </td>
                </tr>
            </tbody>
        </table>
    </main>
</div>
<div class="col-lg-8 mx-auto row d-flex justify-content-start">
    <div class="col-lg-11 m-0 p-0 row  text-center d-flex justify-content-start">
        <div class="text-left headline m-1 mb-2">
            <h1 class="mt-2">TWOJE DANE OSOBOWE:</h1>
        </div>
        <div class="col-12 text-center row m-0 p-0">
            <div class="default row text-center col-lg-8 m-0 p-0">
                <div class="row col-12 mx-auto">
                    {% if user.profile.company  %}
                    <div class="col-lg-10 row mx-auto m-0 p-0 mt-1">
                        <label for="" class="m-0 p-0 mt-2">Nazwa firmy</label>
                        <input class="col-12" placeholder="{{client.business_name}}" disabled></input>
                    </div>
                    {% if user.profile.business_name_l  %}
                    <div class="col-lg-10 row mx-auto m-0 p-0 mt-1">
                        <label for="" class="m-0 p-0 mt-2">Nazwa firmy</label>
                        <input class="col-12" placeholder="{{client.business_name_l}}" disabled></input>
                    </div>
                    {% endif %}
                    <div class="col-lg-10 row mx-auto m-0 p-0 mt-1">
                        <label for="" class="m-0 p-0">Nip</label>
                        <input class="col-12" placeholder="{{client.nip_number}}" disabled></input>
                    </div>
                    {% else %}
                    <div class="col-lg-10 row mx-auto m-0 p-0 mt-1">
                        <label for="" class="m-0 p-0 mt-2">Imię i Nazwisko</label>
                        <input class="col-12" placeholder="{{client.user.first_name}} {{client.user.last_name}}"
                            disabled></input>
                    </div>
                    {% endif %}
                    <div class="col-lg-10 row mx-auto m-0 p-0">
                        <div class="col-lg-5 row mx-auto m-0 p-0 mt-1">
                            <label for="" class="m-0 p-0">email</label>
                            <input class="col-12" placeholder="{{client.user.email}}" disabled></input>
                        </div>
                        <div class="col-lg-5 row mx-auto m-0 p-0 mt-1">
                            <label for="" class="m-0 p-0">telefon</label>
                            <input class="col-12" placeholder="{{client.phone_number}}" disabled></input>
                        </div>
                    </div>
                    <div class="row col-12 mx-auto text-right">
                        <a href="" class="text-right col-12">edytuj</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="text-left headline m-1 mb-2 mt-2">
            <h1 class="mt-2">DANE ADRESOWE:</h1>
            <a href="{% url 'add_address_basket' %}" class="text-right ml-auto">
                <button class="btn btn-outline-success"><i class="fas fa-map-marker-alt m-1"></i>Dodaj adres</button>
            </a>
        </div>
        <div class="col-12 text-center row m-0 p-0">
            {% for address in addresses %}
            {% if address.main %}
            <div class="row text-center col-lg-5 m-1 p-0 address default" id="address_id{{address.id}}"
                data-address_id="{{address.id}}">
                {% else %}
                <div class="row text-center col-lg-5 m-1 p-0 address" id="address_id{{address.id}}"
                    data-address_id="{{address.id}}">
                    {% endif %}
                    <form method="POST" class="col-12 m-0 p-0 row" data-address_id="{{address.id}}">
                        {% csrf_token %}
                        <input type="hidden" name="address_id" value="{{address.id}}">
                        <div class="col-10 row mx-auto m-0 p-0">
                            <label for="" class="m-0 p-0 mt-2">Ulica</label>
                            <input class="col-12" placeholder="{{address.street}}" disabled></input>
                        </div>
                        <div class="col-10 row mx-auto m-0 p-0 d-flex justify-content-between">
                            <div class="row col-5 col-lg-5 m-0 p-0">
                                <label for="" class="m-0 p-0">Nr domu</label>
                                <input class="mx-auto col-12 m-0 p-0" placeholder="{{address.house}}" disabled></input>
                            </div>
                            <div class="row col-5 col-lg-5 m-0 p-0">
                                {% if address.door or address.door == "" %}
                                <label for="" class="m-0 p-0">Nr lokalu</label>
                                <input class="mx-auto col-12 m-0 p-0" placeholder="{{address.door}}" disabled></input>
                                {% endif %}
                            </div>
                        </div>
                        <div class="col-10 row mx-auto m-0 p-0">
                            <div class="row col-12 mx-auto m-0 p-0">
                                <label for="" class="m-0 p-0">Miasto</label>
                                <input class="mx-auto col-12" placeholder="{{address.city}}" disabled></input>
                            </div>
                            <div class="row col-12 mx-auto m-0 p-0">
                                <label for="" class="m-0 p-0">Kod pocztowy</label>
                                <input class="mx-auto col-12" placeholder="{{address.post_code}}" disabled></input>
                            </div>
                        </div>
                        <div class="row col-12 mx-auto row">
                            <a href="{% url 'delete_address_basket' pk=address.pk %}" class="text-left col-6"><i
                                    class="fas fa-trash text-danger"></i></a>
                            <a href="{% url 'edit_address_basket' pk=address.pk %}" class="text-right col-6">edytuj</a>
                        </div>
                    </form>
                </div>
                {% empty %}
                <p class="col-12 text-danger">Brak adresu</p>
                {% endfor %}
            </div>
        </div>
        <div class="text-left headline m-1 mb-2 mt-2">
            <div class="mt-2">
                <h1 class="mt-2">DOKUMENT HANDLOWY:</h1>
            </div>
        </div>
        <form class="col-12 text-center mx-auto row">
            {% csrf_token %}
            {% if client.company %}
            <button name='bill_id' type="button" class="btn-outline-secondary mx-auto text-center col-5 choice_bill"
                data-bill_id="1">PARAGON
            </button>
            <button name='bill_id' type="button" class="btn-success mx-auto  text-center col-5 choice_bill"
                data-bill_id="2">FAKTURA
            </button>
            {% else %}
            <button name='bill_id' type="button" class="btn-success mx-auto text-center col-5 choice_bill"
                data-bill_id="1">PARAGON
            </button>
            <button name='bill_id' type="button" class="btn-outline-secondary mx-auto  text-center col-5 choice_bill"
                data-bill_id="2">FAKTURA
            </button>
            {% endif %}
        </form>

        <div class="text-left headline m-1 mb-2 mt-2">
            <h1 class="mt-2">SPOSÓB DOSTAWY:</h1>
        </div>
        <div class="col-12 text-center mx-auto row m-0 p-0 ">
            {% for delivery in delivery_methods %}
            {% if delivery.id == delivery_set.id %}
            <div id={{delivery.id_code}}
                class="delivery_methods table-success border row text-center m-0 p-0 mt-1  col-12 d-flex align-items-center"
                data-delivery_id="{{delivery.id}}">
                {% else %}
                <div id={{delivery.id_code}}
                    class="delivery_methods border row text-center m-0 p-0 mt-1  col-12 d-flex align-items-center"
                    data-delivery_id="{{delivery.id}}">
                    {% endif %}
                    <div class="row col-6 mx-auto">
                        <p class="col-12 text-left m-0 p-2">{{delivery.name}}</p>
                    </div>
                    <div class="row col-6 mx-auto ">
                        {% if cart.get_total_price > 50.00 %}
                        <p class="col-12 text-right m-0 p-2" id="delivery{{delivery.id}}"
                            data-price="{{delivery.price_promo}}" data-name="{{delivery.name}}">
                            {{delivery.price_promo}} PLN</p>
                        {% else %}
                        <p class="col-12 text-right m-0 p-2" id="delivery{{delivery.id}}"
                            data-price="{{delivery.price}}" data-name="{{delivery.name}}">
                            {{delivery.price}} PLN</p>
                        {% endif %}
                    </div>
                </div>
                {% endfor %}
            </div>

            <div class="text-left headline m-1 mb-2">
                <h1 class="mt-2">SPOSÓB PŁATNOŚCI:</h1>
            </div>
            <div class="col-lg-12 mx-auto row m-0 p-0 mb-3">
                {% for pay in pay_methods %}
                {% if pay.id == payment_set.id %}
                <div class="payments table-success border row text-center m-0 p-0 mt-1 col-12 d-flex align-items-center"
                    data-payment_id="{{pay.id}}">
                    {% else %}
                    <div class="payments border row text-center m-0 p-0 mt-1 col-12 d-flex align-items-center"
                        data-payment_id="{{pay.id}}">
                        {% endif %}
                        <div class="row col-6 mx-auto">
                            <p class="col-12 text-left m-0 p-2">{{pay.name}}</p>
                        </div>
                        <div class="row col-6 mx-auto ">
                            <p class="col-12 text-right m-0 p-2" id="payment{{pay.id}}" data-price="{{pay.price}}"
                                data-name="{{pay.name}}">
                                {{pay.price}} PLN</p>
                        </div>
                    </div>
                    {% endfor %}
                    <div class="col-lg-12 mx-auto row m-0 p-0 mb-3 border mt-3 mb-2">
                        <div class="text-left headline m-1 mb-2">
                            <h1 class="mt-2">FORMULARZ ZAMÓWIENIA</h1>
                        </div>
                        <div class="col-lg-12 mx-auto row m-0 p-0 mb-3">
                            <div class="col-12 mx-auto row m-0 p-0 mt-2 mb-2">
                                {% if form.errors %}
                                {% for field in form %}
                                {% for error in field.errors %}
                                <div class="alert alert-danger">
                                    <strong>{{ error|escape }}</strong>
                                </div>
                                {% endfor %}
                                {% endfor %}
                                {% for error in form.non_field_errors %}
                                <div class="alert alert-danger">
                                    <strong>{{ error|escape }}</strong>
                                </div>
                                {% endfor %}
                                {% endif %}
                            </div>
                            <form class="col-12 mx-auto row order_form" method="post">
                                {% csrf_token %}
                                <!-- {{ form.account|as_crispy_field}} -->
                                <div class="col-12 m-0 p-1 order_details row">
                                    <div id="div_id_account"
                                        class="ctrlHolder col-12 row m-0 p-0 mt-1 mb-1 d-flex align-items-center">
                                        <div class="col-6 row m-0 p-0">
                                            <label for="id_account" class="requiredField col-12 m-0 p-0">
                                                {{ form.account.field.label }}
                                                <span class="asteriskField col-2 m-0 p-0">*</span>
                                            </label>
                                        </div>
                                        <input type="text" name="account" value="{{ form.account.value }}"
                                            maxlength="{{ form.account.field.max_length }}"
                                            class="text-right font-weight-bold col-6 m-0 p-0 textinput textInput"
                                            required="{{ form.account.field.required }}" id="id_account">
                                    </div>
                                    <div id="div_id_bill"
                                        class="ctrlHolder col-12 row m-0 p-0 mt-1 mb-1 d-flex align-items-center">
                                        <div class="col-6 row m-0 p-0">
                                            <label for="id_bill" class="requiredField col-12 m-0 p-0">
                                                {{ form.bill.field.label }}
                                                <span class="asteriskField col-2 m-0 p-0">*</span>
                                            </label>
                                        </div>
                                        <input type="text" name="bill" value="{{ form.bill.value }}"
                                            maxlength="{{ form.bill.field.max_length }}"
                                            class="text-right font-weight-bold col-6 m-0 p-0 textinput textInput"
                                            required="{{ form.bill.field.required }}" id="id_bill">
                                    </div>
                                    <div id="div_id_delivery"
                                        class="ctrlHolder col-12 row m-0 p-0 mt-1 mb-1 d-flex align-items-center">
                                        <div class="col-6 row m-0 p-0">
                                            <label for="id_delivery" class="requiredField col-12 m-0 p-0">
                                                {{ form.delivery.field.label }}
                                                <span class="asteriskField col-2 m-0 p-0">*</span>
                                            </label>
                                        </div>
                                        <input type="text" name="delivery" value="{{ form.delivery.value }}"
                                            maxlength="{{ form.delivery.field.max_length }}"
                                            class="text-right font-weight-bold col-6 m-0 p-0 textinput textInput"
                                            required="{{ form.delivery.field.required }}" id="id_delivery">
                                    </div>
                                    <div id="div_id_payment"
                                        class="ctrlHolder col-12 row m-0 p-0 mt-1 mb-1 d-flex align-items-center">
                                        <div class="col-6 row m-0 p-0">
                                            <label for="id_payment" class="requiredField col-12 m-0 p-0">
                                                {{ form.payment.field.label }}
                                                <span class="asteriskField col-2 m-0 p-0">*</span>
                                            </label>
                                        </div>
                                        <input type="text" name="payment" value="{{ form.payment.value }}"
                                            maxlength="{{ form.payment.field.max_length }}"
                                            class="text-right font-weight-bold col-6 m-0 p-0 textinput textInput"
                                            required="{{ form.payment.field.required }}" id="id_payment">
                                    </div>
                                </div>
                                <div class="col-12 m-0 p-1 order_details row">
                                    <div id="div_id_name"
                                        class="ctrlHolder col-12 row m-0 p-0 mt-1 mb-1 d-flex align-items-center">
                                        <div class="col-6 row m-0 p-0">
                                            <label for="id_name" class="requiredField col-12 m-0 p-0">
                                                {{ form.name.field.label }}
                                                <span class="asteriskField col-2 m-0 p-0">*</span>
                                            </label>
                                        </div>
                                        <input type="text" name="name" value="{{ form.name.value }}"
                                            maxlength="{{ form.name.field.max_length }}"
                                            class="text-right font-weight-bold col-6 m-0 p-0 textinput textInput"
                                            required="{{ form.name.field.required }}" id="id_name">
                                    </div>
                                    {% if form.name_long.value %}
                                    <div id="div_id_name_long"
                                        class="ctrlHolder col-12 row m-0 p-0 mt-1 mb-1 d-flex align-items-center">
                                        <div class="col-6 row m-0 p-0">
                                            <label for="id_name_long" class="requiredField col-12 m-0 p-0">
                                                {{ form.name_long.field.label }}
                                                <span class="asteriskField col-2 m-0 p-0">*</span>
                                            </label>
                                        </div>
                                        <input type="text" name="name_long" value="{{ form.name_long.value }}"
                                            maxlength="{{ form.name_long.field.max_length }}"
                                            class="text-right font-weight-bold col-6 m-0 p-0 textinput textInput"
                                            required="{{ form.name_long.field.required }}" id="id_name_long">
                                    </div>
                                    {% endif %}
                                    {% if form.nip.value %}
                                    <div id="div_id_nip"
                                        class="ctrlHolder col-12 row m-0 p-0 mt-1 mb-1 d-flex align-items-center">
                                        <div class="col-6 row m-0 p-0">
                                            <label for="id_nip" class="requiredField col-12 m-0 p-0">
                                                {{ form.nip.field.label }}
                                                <span class="asteriskField col-2 m-0 p-0">*</span>
                                            </label>
                                        </div>
                                        <input type="text" name="nip" value="{{ form.nip.value }}"
                                            maxlength="{{ form.nip.field.max_length }}"
                                            class="text-right font-weight-bold col-6 m-0 p-0 textinput textInput"
                                            required="{{ form.nip.field.required }}" id="id_nip">
                                    </div>
                                    {% endif %}
                                    <div id="div_id_phone"
                                        class="ctrlHolder col-12 row m-0 p-0 mt-1 mb-1 d-flex align-items-center">
                                        <div class="col-6 row m-0 p-0">
                                            <label for="id_phone" class="requiredField col-12 m-0 p-0">
                                                {{ form.phone.field.label }}
                                                <span class="asteriskField col-2 m-0 p-0">*</span>
                                            </label>
                                        </div>
                                        <input type="text" name="phone" value="{{ form.phone.value }}"
                                            maxlength="{{ form.phone.field.max_length }}"
                                            class="text-right font-weight-bold col-6 m-0 p-0 textinput textInput"
                                            required="{{ form.phone.field.required }}" id="id_phone">
                                    </div>
                                    <div id="div_id_street"
                                        class="ctrlHolder col-12 row m-0 p-0 mt-1 mb-1 d-flex align-items-center">
                                        <div class="col-6 row m-0 p-0">
                                            <label for="id_street" class="requiredField col-12 m-0 p-0">
                                                {{ form.street.field.label }}
                                                <span class="asteriskField col-2 m-0 p-0">*</span>
                                            </label>
                                        </div>
                                        <input type="text" name="street" value="{{ form.street.value }}"
                                            maxlength="{{ form.street.field.max_length }}"
                                            class="text-right font-weight-bold col-6 m-0 p-0 textinput textInput"
                                            required="{{ form.street.field.required }}" id="id_street">
                                    </div>
                                    <div id="div_id_city"
                                        class="ctrlHolder col-12 row m-0 p-0 mt-1 mb-1 d-flex align-items-center">
                                        <div class="col-6 row m-0 p-0">
                                            <label for="id_city" class="requiredField col-12 m-0 p-0">
                                                {{ form.city.field.label }}
                                                <span class="asteriskField col-2 m-0 p-0">*</span>
                                            </label>
                                        </div>
                                        <input type="text" name="city" value="{{ form.city.value }}"
                                            maxlength="{{ form.city.field.max_length }}"
                                            class="text-right font-weight-bold col-6 m-0 p-0 textinput textInput"
                                            required="" id="id_city">
                                    </div>
                                    {% if delivery_default.inpost_box %}
                                    <div id="div_id_inpost_box"
                                        class="ctrlHolder col-12 row m-0 p-0 mt-1 mb-1 d-flex align-items-center">
                                        <div class="col-6 row m-0 p-0">
                                            <label for="id_inpost_box" class="requiredField col-12 m-0 p-0">
                                                {{ form.inpost_box.field.label }}
                                                <span class="asteriskField col-2 m-0 p-0">*</span>
                                            </label>
                                        </div>
                                        <input type="text" name="inpost_box" value="{{ form.inpost_box.value }}"
                                            maxlength="{{ form.inpost_box.field.max_length }}"
                                            class="text-right font-weight-bold col-6 m-0 p-0 textinput textInput"
                                            required="{{ form.inpost_box.field.required }}" id="id_inpost_box">
                                    </div>
                                    {% endif %}
                                </div>

                                <div class="col-12 m-0 p-1 order_details row">
                                    <div id="div_id_products_total"
                                        class="ctrlHolder col-12 row m-0 p-0 mt-1 mb-1 d-flex align-items-center">
                                        <div class="col-6 row m-0 p-0">
                                            <label for="id_products_total" class="requiredField col-12 m-0 p-0">
                                                {{ form.products_total.field.label }}
                                                <span class="asteriskField col-2 m-0 p-0">*</span>
                                            </label>
                                        </div>
                                        <input type="hidden" name="products_total"
                                            value="{{ form.products_total.value|unlocalize }}"
                                            maxlength="{{ form.products_total.field.max_length }}"
                                            class="text-right font-weight-bold col-6 m-0 p-0 textinput textInput"
                                            required="{{ form.products_total.field.required }}" id="id_products_total">
                                        <p class="text-right font-weight-bold col-6 m-0 p-0">
                                            {{ form.products_total.value }}
                                            PLN
                                        </p>
                                    </div>
                                    <div id="div_id_delivery_cost"
                                        class="ctrlHolder col-12 row m-0 p-0 mt-1 mb-1 d-flex align-items-center">
                                        <div class="col-6 row m-0 p-0">
                                            <label for="id_delivery_cost" class="requiredField col-12 m-0 p-0">
                                                {{ form.delivery_cost.field.label }}
                                                <span class="asteriskField col-2 m-0 p-0">*</span>
                                            </label>
                                        </div>
                                        <input type="hidden" name="delivery_cost"
                                            value="{{ form.delivery_cost.value|unlocalize }}"
                                            maxlength="{{ form.products_total.field.max_length }}"
                                            class="text-right font-weight-bold col-6 m-0 p-0 textinput textInput"
                                            required="{{ form.delivery_cost.field.required }}" 
                                             id="id_delivery_price_input">
                                        <p id="id_delivery_price_text" class="text-right font-weight-bold col-6 m-0 p-0">
                                            {{ form.delivery_cost.value }}
                                            PLN
                                        </p>
                                    </div>
                                    <div id="div_id_payment_cost"
                                        class="ctrlHolder col-12 row m-0 p-0 mt-1 mb-1 d-flex align-items-center">
                                        <div class="col-6 row m-0 p-0">
                                            <label for="id_payment_cost" class="requiredField col-12 m-0 p-0">
                                                {{ form.payment_cost.field.label }}
                                                <span class="asteriskField col-2 m-0 p-0">*</span>
                                            </label>
                                        </div>
                                        <input type="hidden" name="payment_cost"
                                            value="{{ form.payment_cost.value|unlocalize }}"
                                            maxlength="{{ form.payment_cost.field.max_length }}"
                                            class="text-right font-weight-bold col-6 m-0 p-0 textinput textInput"
                                            required="{{ form.payment_cost.field.required }}" id="id_payment_form_input">
                                        <p id="id_payment_form_text" class="text-right font-weight-bold col-6 m-0 p-0">
                                            {{ form.payment_cost.value }}
                                            PLN
                                        </p>
                                    </div>
                                </div>
                                <div class="col-12 m-0 p-0 order_details row">
                                    <div id="div_id_payment_cost"
                                        class="ctrlHolder col-12 row m-0 p-0 mt-1 mb-1 d-flex align-items-center">
                                        <div class="col-6 row m-0 p-0">
                                            <label for="id_payment_cost" class="requiredField col-12 m-0 p-0">
                                                {{ form.payment_cost.field.label }}
                                                <span class="asteriskField col-2 m-0 p-0">*</span>
                                            </label>
                                        </div>
                                        <input type="hidden" name="order_total_price"
                                            value="{{ form.order_total_price.value|unlocalize }}"
                                            maxlength="{{ form.order_total_price.field.max_length }}"
                                            required="{{ form.order_total_price.field.required }}"
                                            id="id_order_total_price_input">
                                        <p id="id_order_total_price_text" class="text-right font-weight-bold col-6 m-0 p-0">
                                            {{ form.order_total_price.value }}
                                            PLN
                                        </p>
                                    </div>
                                </div>
                                <button name="checkout" type="submit" class="btn-success col-12 p-2">Zamawiam</button>
                            </form>

                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- <div id="order_details" class="col-lg-4 mx-auto row m-0 d-flex align-items-start align-self-start border p-1">
        <div class="text-left headline m-1 mb-2 row col-12 d-flex align-items-center mx-auto">
            <h1 class="mt-2">DANE ZAMÓWIENIA:</h1>
            <i id="close" class="ml-auto p-2 fas fa-arrow-down"></i>
            <i id="open" class="ml-auto p-2 fas fa-arrow-up"></i>
        </div>

        <div class="col-12 m-0 p-0 row order_details">
            <div class="col-12 row m-0 p-0 d-flex align-items-center">
                {% if client.company %}
                <small class="m-0 p-0 ml-1">Konto: </small>
                <p class="m-0 p-0 ml-auto mr-1">Firmowe</p>
                {% else %}
                <small class="m-0 p-0 ml-1">Konto: </small>
                <p class="m-0 p-0 ml-auto mr-1">Indywidualne</p>
                {% endif %}
            </div>
            <div class="col-12 row m-0 p-0 d-flex align-items-center">
                <small class="m-0 p-0 ml-1">Dokument handlowy: </small>
                {% if client.company %}
                <p class="m-0 p-0 ml-auto mr-1" id="bill_form">Faktura</p>
                {% else %}
                <p class="m-0 p-0 ml-auto mr-1" id="bill_form">Paragon</p>
                {% endif %}
            </div>
            <div class="col-12 row m-0 p-0 d-flex align-items-center">
                <small class="m-0 p-0 ml-1">Metoda dostawy: </small>
                <p class="m-0 p-0 ml-auto mr-1" id="delivery_form">{{delivery_default.name}}</p>
            </div>
            <div class="col-12 row m-0 p-0 d-flex align-items-center">
                <small class="m-0 p-0 ml-1">Metoda płatności: </small>
                <p class="m-0 p-0 ml-auto mr-1" id="payment_name_form">{{payment_default.name}}</p>
            </div>
        </div>
        <div class="col-12 m-0 p-0 row order_details">
            <div class="col-12 row m-0 p-0 d-flex align-items-center">
                {% if user.profile.company  %}
                <small class="m-0 p-0 ml-1">Odbiorca: </small>
                <p class="m-0 p-0 ml-auto mr-1">{{user.profile.business_name}}</p>
            </div>
            {% if user.profile.business_name_l  %}
            <div class="col-12 row m-0 p-0 d-flex align-items-center">
                <small class="m-0 p-0 ml-1">Odbiorca c.d.: </small>
                <p class="m-0 p-0 ml-auto mr-1">{{user.profile.business_name_l}}</p>
            </div>
            {% endif %}
            <div class="col-12 row m-0 p-0 d-flex align-items-center">
                <small class="m-0 p-0 ml-1">NIP </small>
                <p class="m-0 p-0 ml-auto mr-1">{{user.profile.nip_number}}</p>
            </div>
            <div class="col-12 row m-0 p-0 d-flex align-items-center">
                <small class="m-0 p-0 ml-1">Telefon</small>
                <p class="m-0 p-0 ml-auto mr-1">{{user.profile.phone_number}}</p>
                {% else %}
                <small class="m-0 p-0 ml-1">Imię, nazwisko</small>
                <p class="m-0 p-0 ml-auto mr-1">{{user.first_name}} {{user.last_name}}</p>
            </div>
            <div class="col-12 row m-0 p-0 d-flex align-items-center">
                <small class="m-0 p-0 ml-1">Telefon</small>
                <p class="m-0 p-0 ml-auto mr-1">{{user.profile.phone_number}}</p>
                {% endif %}
            </div>

            <div class="col-12 row m-0 p-0 d-flex align-items-center">
                <small class="m-0 p-0 ml-1">Adres: </small>

                {% if address_default.door %}
                <div class="m-0 p-0 ml-auto mr-1 row">
                    <p class="m-0 p-1" id="street_form">{{address_default.street}}, </p>
                    <p class="m-0 p-1" id="house_form">{{address_default.house}}</p>
                    <p class="m-0 p-1" id="door_form">/ {{address_default.door}}</p>
                </div>
                {% else %}
                <div class="m-0 p-0 ml-auto mr-1 row">
                    <p class="m-0 p-1" id="street_form">{{address_default.street}},</p>
                    <p class="m-0 p-1" id="house_form">{{address_default.house}}</p>
                </div>
                {% endif %}
            </div>
            <div class="col-12 row m-0 p-0 d-flex align-items-center">
                <small class="m-0 p-0 ml-1">Adres c.d.: </small>
                <div class="m-0 p-0 ml-auto mr-1 row">
                    <p class="m-0 p-0" id="city_form">{{address_default.city}}, </p>
                    <p class="m-0 p-0" id="post_code_form">{{address_default.post_code}}</p>
                </div>
            </div>
        </div>
        <div class="col-12 m-0 p-0 order_details row ">
            <div class="col-12 row m-0 p-0 d-flex align-items-center">
                <small class="m-0 p-0 ml-1">Produkty suma: </small><strong
                    class="m-0 p-0 ml-auto mr-1">{{cart.get_total_price|floatformat:2}} PLN</strong>
            </div>
            <div class="col-12 row m-0 p-0 d-flex align-items-center">
                <small class="m-0 p-0 ml-1">Dostawa koszt: </small><strong class="m-0 p-0 ml-auto mr-1"
                    id="delivery_cost_form"
                    data-delivery_cost="{{delivery_cost|floatformat:2}}">{{delivery_cost|floatformat:2}} PLN</strong>
            </div>
            <div class="col-12 row m-0 p-0 d-flex align-items-center">
                <small class="m-0 p-0 ml-1">Płatność koszt: </small><strong class="m-0 p-0 ml-auto mr-1"
                    id="payment_cost_form">{{payment_default.price}} PLN</strong>
            </div>
        </div>
        <div class="col-12 m-0 p-0 order_details row">
            <div class="col-12 row m-0 p-0 d-flex align-items-center mt-2 mb-2">
                <strong class="m-0 p-0 ml-1">Suma zamówienia: </strong><strong class="m-0 p-0 ml-auto mr-1"
                    id="order_price">{{order_price|floatformat:2}} PLN</strong>
            </div>
        </div>
        <div class="col-12 m-0 p-1 order_details">
            <button class="btn-success col-12 p-2">Zamawiam</button>
        </div>
    </div> -->
    </div>
    {% endblock %}

    {% block script %}
    <script>
        var open_geo = $('#open_geo');
        open_geo.on("click", function () {
            var url = "{% url 'inpost_box' %}";
            $(location).attr('href', url);
        });
    </script>
    <script src="{% static "js/order_details.js" %}" type="text/javascript"></script>
    {% endblock %}